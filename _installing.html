<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GHUnit: Installing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="index.html">GHUnit</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Installing </h1>  </div>
</div>
<div class="contents">
<p><a class="el" href="_installing.html#InstallingIOSXcode4">Installing in Xcode 4 (iOS)</a></p>
<p><a class="el" href="_installing_xcode3.html#InstallMacOSXXcode4">Installing in Xcode 4 (Mac OS X)</a></p>
<p><a class="el" href="_installing_xcode3.html">Installing in Xcode 3</a></p>
<h2><a class="anchor" id="InstallingIOSXcode4"></a>
Installing in Xcode 4 (iOS)</h2>
<h3><a class="anchor" id="CreateTestTargetXcode4"></a>
Create a Test Target</h3>
<ul>
<li>You'll want to create a separate Test target. Select the project file for your app in the Project Navigator. From there, select the Add Target + symbol at the bottom of the window.</li>
</ul>
<div align="center">
<img src="http://rel.me.s3.amazonaws.com/gh-unit/images/Installing/1_add_target.png" alt="1_add_target.png"/>
</div>
<ul>
<li>Select iOS, Application, Window-based Application. Select Next.</li>
</ul>
<div align="center">
<img src="http://rel.me.s3.amazonaws.com/gh-unit/images/Installing/2_select_application.png" alt="2_select_application.png"/>
</div>
<ul>
<li>Name it Tests or something similar. Select Finish.</li>
</ul>
<div align="center">
<img src="http://rel.me.s3.amazonaws.com/gh-unit/images/Installing/3_name_it.png" alt="3_name_it.png"/>
</div>
<h3><a class="anchor" id="ConfigureTestTargetXcode4"></a>
Configure the Test Target</h3>
<ul>
<li>Download and copy the GHUnitIOS.framework to your project. Control click on Frameworks in the Project Navigator and select: Add Files to "MyTestable"...</li>
</ul>
<div align="center">
<img src="http://rel.me.s3.amazonaws.com/gh-unit/images/Installing/6_add_framework.png" alt="6_add_framework.png"/>
</div>
<ul>
<li>Select GHUnitIOS.framework and make sure the only the Tests target is selected.</li>
</ul>
<div align="center">
<img src="http://rel.me.s3.amazonaws.com/gh-unit/images/Installing/7_add_framework_dialog.png" alt="7_add_framework_dialog.png"/>
</div>
<ul>
<li>We want to enable use of Objective-C categories, which isn't enabled for static libraries by default. In the Tests target, Build Settings, under Other Linker Flags, add <code>-ObjC</code> and <code>-all_load</code>.</li>
</ul>
<div align="center">
<img src="http://rel.me.s3.amazonaws.com/gh-unit/images/Installing/8_other_linker_flags.png" alt="8_other_linker_flags.png"/>
</div>
<ul>
<li>Select and delete the files from the existing Tests folder. Leave the Supporting Files folder. GHUnit will provide the application delegate below.</li>
</ul>
<div align="center">
<img src="http://rel.me.s3.amazonaws.com/gh-unit/images/Installing/9_remove_test_files.png" alt="9_remove_test_files.png"/>
</div>
<ul>
<li>By default, the Tests-Info.plist file includes MainWindow_iPhone and MainWindow_iPad for Main nib file base name. You should remove both these fields.</li>
</ul>
<div align="center">
<img src="http://rel.me.s3.amazonaws.com/gh-unit/images/Installing/9b_fix_plist.png" alt="9b_fix_plist.png"/>
</div>
<ul>
<li>After removing these entries, the Tests-Info.plist should look like this.</li>
</ul>
<div align="center">
<img src="http://rel.me.s3.amazonaws.com/gh-unit/images/Installing/9c_fixed_plist.png" alt="9c_fixed_plist.png"/>
</div>
<ul>
<li>In Tests folder, in Supporting Files, main.m, replace the last argument of UIApplicationMain with "GHUnitIPhoneAppDelegate".</li>
</ul>
<div align="center">
<img src="http://rel.me.s3.amazonaws.com/gh-unit/images/Installing/10_main.png" alt="10_main.png"/>
</div>
<ul>
<li>Select the Tests target, iPhone Simulator configuration:</li>
</ul>
<div align="center">
<img src="http://rel.me.s3.amazonaws.com/gh-unit/images/Installing/11_select_target.png" alt="11_select_target.png"/>
</div>
<ul>
<li>Hit Run, and you'll hopefully see the test application running (but without any tests).</li>
</ul>
<div align="center">
<img src="http://rel.me.s3.amazonaws.com/gh-unit/images/Installing/12_running.png" alt="12_running.png"/>
</div>
<h3><a class="anchor" id="CreateTestXcode4"></a>
Create a Test</h3>
<ul>
<li>Control click on the Tests folder and select: New File...</li>
<li>Under iOS, Cocoa Touch, select Objective-C class and select Next. Leave the default subclass and select Next again.</li>
<li>Name the file MyTest.m and make sure its enabled only for the "Tests" target.</li>
<li>Delete the MyTest.h file and replace the MyTest.m file with:</li>
</ul>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #import &lt;GHUnitIOS/GHUnit.h&gt;</span> 
 
 <span class="keyword">@interface </span>MyTest : <a class="code" href="interface_g_h_test_case.html" title="The base class for a test case.">GHTestCase</a> { }
 <span class="keyword">@end</span>
 
 <span class="keyword">@implementation </span>MyTest
 
 - (void)testStrings {       
   NSString *string1 = <span class="stringliteral">@&quot;a string&quot;</span>;
   GHTestLog(<span class="stringliteral">@&quot;I can log to the GHUnit test console: %@&quot;</span>, string1);
 
   <span class="comment">// Assert string1 is not NULL, with no custom error description</span>
   <a class="code" href="_g_h_test_macros_8h.html#ac9c25f79aea7bce89e97b862c3b10379" title="Generates a failure when a1 is NULL.">GHAssertNotNULL</a>(string1, nil);
 
   <span class="comment">// Assert equal objects, add custom error description</span>
   NSString *string2 = <span class="stringliteral">@&quot;a string&quot;</span>;
   <a class="code" href="_g_h_test_macros_8h.html#a456379cf01f6d782fea2c0a4193a42fd" title="Generates a failure when !{ [a1 isEqualTo:a2] } is false (or one is nil and the other is not)...">GHAssertEqualObjects</a>(string1, string2, <span class="stringliteral">@&quot;A custom error message. string1 should be equal to: %@.&quot;</span>, string2);
 }
 
 <span class="keyword">@end</span>
</pre></div><div align="center">
<img src="http://rel.me.s3.amazonaws.com/gh-unit/images/Installing/13_adding_test.png" alt="13_adding_test.png"/>
</div>
<ul>
<li>Now run the "Tests" target. Hit the Run button in the top right.</li>
</ul>
<div align="center">
<img src="http://rel.me.s3.amazonaws.com/gh-unit/images/Installing/14_running_with_test.png" alt="14_running_with_test.png"/>
</div>
<h3><a class="anchor" id="InstallWhatsNextXcode4"></a>
Whats next?</h3>
<p>There aren't any more steps required, but you might be interested in:</p>
<ul>
<li><a class="el" href="_examples.html">More Examples</a></li>
<li><a class="el" href="_command_line.html">Running from the Command Line</a></li>
<li><a class="el" href="_command_line.html#Makefile">Install a Makefile</a> </li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sat Jul 16 2011 20:08:47 for GHUnit by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
